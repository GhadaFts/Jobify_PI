<div class="max-w-4xl max-h-[90vh] overflow-y-auto p-6">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">Edit Job</h2>

  <form (ngSubmit)="onSave()" #editForm="ngForm" class="space-y-6">
    <!-- Job Title & Company -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Job Title *</label>
        <input
          type="text"
          [(ngModel)]="editedJob.title"
          name="title"
          required
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Company *</label>
        <input
          type="text"
          [(ngModel)]="editedJob.company"
          name="company"
          required
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>
    </div>

    <!-- Location & Type -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Location *</label>
        <input
          type="text"
          [(ngModel)]="editedJob.location"
          name="location"
          required
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Job Type *</label>
        <select
          [(ngModel)]="editedJob.type"
          name="type"
          required
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          <option value="Full-time">Full-time</option>
          <option value="Part-time">Part-time</option>
          <option value="Contract">Contract</option>
          <option value="Internship">Internship</option>
          <option value="Remote">Remote</option>
        </select>
      </div>
    </div>

    <!-- Experience & Salary -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Experience Level *</label>
        <select
          [(ngModel)]="editedJob.experience"
          name="experience"
          required
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          <option value="Intern">Intern</option>
          <option value="Entry Level">Entry Level</option>
          <option value="Mid Level">Mid Level</option>
          <option value="Senior Level">Senior Level</option>
          <option value="Lead">Lead</option>
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Salary Range *</label>
        <input
          type="text"
          [(ngModel)]="editedJob.salary"
          name="salary"
          required
          class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>
    </div>

    <!-- Job Description -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Job Description *</label>
      <textarea
        [(ngModel)]="editedJob.description"
        name="description"
        rows="4"
        required
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      ></textarea>
    </div>

    <!-- Skills -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Required Skills</label>
      <div class="flex gap-2 mb-3">
        <input
          type="text"
          [(ngModel)]="newSkill"
          (keyup.enter)="addSkill()"
          placeholder="Add a skill"
          class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
        <button
          type="button"
          (click)="addSkill()"
          class="px-4 py-2 text-white rounded-full transition-colors flex items-center gap-2"
          style="background-color: #10B981; color: white;"
        >
          <fa-icon [icon]="faPlus"></fa-icon>
          Add
        </button>
      </div>
      <div class="flex flex-wrap gap-2">
        <div
          *ngFor="let skill of editedJob.skills"
          class="flex items-center gap-2 px-3 py-2 bg-blue-50 rounded-md border border-blue-200"
        >
          <fa-icon [icon]="faCheck" class="text-blue-500 text-sm"></fa-icon>
          <span class="text-sm text-blue-800 font-medium">{{ skill }}</span>
          <button
            type="button"
            (click)="removeSkill(skill)"
            class="text-blue-400 hover:text-red-500 transition-colors ml-1"
          >
            <fa-icon [icon]="faTimes" class="text-sm"></fa-icon>
          </button>
        </div>
      </div>
    </div>

    <!-- Requirements -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Requirements</label>
      <div class="flex gap-2 mb-3">
        <input
          type="text"
          [(ngModel)]="newRequirement"
          (keyup.enter)="addRequirement()"
          placeholder="Add a requirement"
          class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
        <button
          type="button"
          (click)="addRequirement()"
          class="px-4 py-2 text-white rounded-full transition-colors flex items-center gap-2"
          style="background-color: #10B981; color: white;"
        >
          <fa-icon [icon]="faPlus"></fa-icon>
          Add
        </button>
      </div>
      <div class="space-y-2">
        <div
          *ngFor="let requirement of editedJob.requirements"
          class="flex items-start gap-3 p-3 bg-green-50 rounded-md border border-green-200"
        >
          <fa-icon [icon]="faCheck" class="text-green-500 mt-0.5 flex-shrink-0"></fa-icon>
          <span class="flex-1 text-sm text-green-800">{{ requirement }}</span>
          <button
            type="button"
            (click)="removeRequirement(requirement)"
            class="text-green-400 hover:text-red-500 transition-colors flex-shrink-0"
          >
            <fa-icon [icon]="faTimes"></fa-icon>
          </button>
        </div>
      </div>
    </div>

    <!-- Status -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Job Status</label>
      <select
        [(ngModel)]="editedJob.status"
        name="status"
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
      >
        <option value="open">Open</option>
        <option value="new">New</option>
        <option value="hot job">Hot Job</option>
        <option value="limited openings">Limited Openings</option>
        <option value="actively hiring">Actively Hiring</option>
        <option value="urgent hiring">Urgent Hiring</option>
      </select>
    </div>

    <!-- Published Status -->
    <div>
      <label class="flex items-center">
        <input
          type="checkbox"
          [(ngModel)]="editedJob.published"
          name="published"
          class="rounded border-gray-300 text-blue-600 focus:ring-blue-500"
        />
        <span class="ml-2 text-sm text-gray-700">Published</span>
      </label>
    </div>

    <!-- Form Actions -->
    <div class="flex justify-end gap-3 pt-6 border-t border-gray-200">
      <button
        type="button"
        (click)="onCancel()"
        class="px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors"
      >
        Cancel
      </button>
      <button
        type="submit"
        [disabled]="!editForm.valid"
        class="px-6 py-2 rounded-md text-white transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed"
        style="background-color: #336781;"
      >
        Save Changes
      </button>
    </div>
  </form>
</div>